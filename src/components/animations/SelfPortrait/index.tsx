import React, { useEffect, useState } from "react";
import {
  EyeMask,
  Hair,
  LeftEye,
  Lines,
  Nose,
  RightEye,
  HairHighlight,
} from "./component.styled";
import { usePortfolioContext } from "../../../context";

const clamp = (value: number, min: number, max: number) =>
  Math.min(Math.max(value, min), max);

const SelfPortrait = () => {
  const { minimalMode } = usePortfolioContext();
  const [offset, setOffset] = useState({ x: 0, y: 0 });

  useEffect(() => {
    const handleMouseMove = (e: { clientX: number; clientY: number }) => {
      const { innerWidth, innerHeight } = window;
      const centerX = innerWidth / 2;
      const centerY = innerHeight / 2;

      const relX = e.clientX - centerX;
      const relY = e.clientY - centerY;

      const normX = relX / centerX; // -1 to 1
      const normY = relY / centerY;

      const scaleX = normX < 0 ? 40 : 0;
      const x = clamp(normX * scaleX, -40, 0);

      const y = clamp(normY * 20, -20, 20);
      setOffset({ x, y });
    };

    window.addEventListener("mousemove", handleMouseMove);
    return () => window.removeEventListener("mousemove", handleMouseMove);
  }, []);
  
  return (
    <svg viewBox="0 0 1500 1500">
      <Nose
        minimalMode={minimalMode}
        d="M1281.3,716.3c7,25,3.4,45.9-5.9,63.6"
      />

      <RightEye
        d={`M1267.1,782.5c14.7,0,17.8-18,20.7-38.8c2.9-20.8,1.7-37.5-12.6-37.5c-21,0-24.9,25.7-24.9,38.1S1252.4,782.5,1267.1,782.5z`}
        minimalMode={minimalMode}
        offset={offset}
      />
      <LeftEye
        d={`M1057.1,764.8c25.6,0,31.1-26.8,36-57.8c5-31,2.9-55.9-22-55.9c-36.6,0-43.4,38.3-43.4,56.9
	C1027.7,726.5,1031.5,764.8,1057.1,764.8z`}
        minimalMode={minimalMode}
        offset={offset}
      />
      <EyeMask
        d="M1317.3,712.5l-19.3-13.8l31.4-55.1l-29.4-136.4H789.7v275.3v5.6v72.8h503v-71l12.6-1l14,1.1
	L1317.3,712.5z M1079.9,766c-48.9-1.2-98.5-9.4-147.4-63.5c10.9-43.9,164.2-65,181.8-29.5C1114.3,672.9,1123.9,766,1079.9,766z
	 M1246.4,704l29.9,2.5c4.7,5.6,9.5,16.5,9.5,38.2c0,12.2-4.8,29.6-10.5,35.1c-1,0.7-2.1,1.4-3.3,1.8c-0.1,0-0.1,0-0.2,0
	c-1.4,0.1-3.4,0.4-5.5,0.8c-0.2,0-0.3,0-0.5,0l-0.1,0.1h-4.3l-11.8-2.2C1238.9,756.8,1231.3,732.6,1246.4,704z"
        minimalMode={minimalMode}
      />
      <Nose
        d="M1256.6,1003.1c10.3-8.7,13.8-20.6,10.3-35.8"
        minimalMode={minimalMode}
      />
      <Nose
        d="M965.8,732c25.7,20.9,63.8,33,116.9,34.5"
        minimalMode={minimalMode}
      />
      <Nose
        d="M1232,1010.4c0-56.2,97.4-54.7,97.4-101.9c0-44.2-91.4-103.7-91.4-174c0-36.5,61-103.6,78.7-121.2"
        minimalMode={minimalMode}
      />
      <Nose
        d="M1275.5,779.4c-6.8,3.8-14.8,4.1-24,0.8"
        minimalMode={minimalMode}
      />

      <Nose
        minimalMode={minimalMode}
        d="M1275.5,779.4c2.7,16.3,3.4,30.4-0.1,41"
      />
      <Nose
        minimalMode={minimalMode}
        d="M1325.2,547.1c26.4,85.1-0.2,115.6-25.1,141.6c-7.7,8-14.1,17.1-18.8,27.1"
      />

      <Lines
        d="M1199.5,959.7c0,0,23.5-11.5,34.5-11.5c10.9,0,18.5,9,20,5.7c1.4-3.2-8.1-12.2-20-12.2
	C1222,941.7,1199.5,959.7,1199.5,959.7z"
        minimalMode={minimalMode}
      />
      <Lines
        d="M938.4,692.3c-0.6,0.3-1.1-0.4-0.7-0.9c10.6-11.1,51.1-47.8,120-47.8c61.9,0,55.4,20.7,73.9,13.7c-3.7,11.7-22,4.3-22,4.3
	s-0.3,6.3,10.7,12.3c-14.8,0-22.6-16.6-76.7-16.6C997.8,657.3,951.3,684.2,938.4,692.3z"
        minimalMode={minimalMode}
      />

      <Lines
        d="M1250.3,698.6c44.8-4.3,43.8,12.4,59.2,3.4c-1.7,12.2-21,7.9-21,7.9s0.7,6.3,12.6,10.3c-12.3,2.1-21.6-8.2-55.9-6.2
	C1242.6,711.6,1245.5,699.1,1250.3,698.6z"
        minimalMode={minimalMode}
      />
      <Hair
        d={`M1363.7,321.4c29.4,18,50.4,41.3,64.9,68.8c-1.6-56.3-36.4-104.9-107.8-144.9c-1.8-1-1.1-3.7,0.9-3.7
		c44.2-0.6,82.7-6.4,90.5-39.9c-119,34.8-105.1-14.9-237.2-48c-1.6-0.4-1.6-2.7,0.1-3.1c37.9-8.5,73.1,14.4,73.1,14.4
		c-5.7-25.2-49.5-41.1-140.1-45.7c42.4-19.8,42.5-48,37-77.4c-14.8,37.7-60.3,58.9-108.9,58.9c-48.6,0-125.2-39-191.8-39
		s-136.1,38-136.1,38c-3.1-13.3,11.8-26.3,34.5-39.2c-30.9,1-54.8,18.5-75.2,44.4c-11.8-19-38.4-33.7-71.7-46.4
		c27.3,24.1,50.1,46.3,43.4,55.9c-28-27.6-56.5-26.1-85.1-17c25.3-0.9,50.8-2.6,70.7,15.5C442.4,75.2,360.8,268.6,304.1,268.6
		c-74.7,0-44.9-79.9-44.9-79.9c-23.8,21.1-22.3,51.3-2,88.4c-54.3-15.9-76.3-59.5-82.9-116.4c-18.3,61.5-3.7,112.1,80.9,139.3
		c-74.7,10.1-110.1,46.9-126.3,96.9c29.3-23.9,62.2-41.8,101.2-49.4c0.8-0.2,1.3,0.9,0.8,1.4c-65.4,67.7-115.1,60-159.4,27
		c14.2,29.3,37.8,51.7,84.9,56.9c-50.5,32-76.7,70.1-56.4,119.9c9.7-31.7,31.5-57.8,66.4-77.9c-47.8,40.3-56.9,129.4-21.5,181.3
		c-1.3-31.8,5.6-60,20-84.9c-7.6,78.9-12.9,112.2-29,142.8c20.4,4.3,35.3-9.5,45.9-37.5c-6.6,66.3,5.8,119.9,39.5,143.2
		c-5.7-15.5-10.4-29.4-8.1-55.8c10.6,41.6,26,75.7,44.4,104.9c5.4,40-2.7,69.8-25.5,88.4c16,3.5,29-3.9,39.5-20.5
		c-10.9,34.2-7.8,60.2,11.5,76.9c0,0,0-13.5,3.8-21.8c-5.2,15.4,3.5,93.7,63.6,93.7c-19.4-39.6-4.5-59.4-4.5-59.4
		c1.2,24.7,11.7,44.9,51.1,44.9c-8.3-13.1-13.5-55.4-2.6-89.9c-9,51.3,44.4,71.9,44.4,71.9c-20-43.1-22-78.3-6-134.8
		c-114.1-114.1-24.5-284.1,33-284.1s120.9,83.4,125.8,183.8c8.2,98.4-26.7,176.2-84.9,242.7c13,0.8,25-0.9,35.6-5.5
		c-29.8,22.6-27,52.2-21.6,82.4l13-16.2c-5.5,14.1,3.4,37,11,59.2c1.4-18.2,10.8-33.4,13.4-37.1c-2.5,5.3,0.9,29.5,3,52.3
		c2.2,23-23.8,42.6-21.5,45.3c7.1,3.8,47.3-4.1,52.1-18.5c-0.3,35.1,23.1,62.1,55.9,85.9c-4.6-15.6-7.4-29.7-5-40
		c16.7,37.8,48,67.2,90.9,89.9c-9-13.5-9.8-22.3-5-28c9.5,35.2,46.4,59.6,106.9,74.9c-8.8-12.2-14.8-22.4-13-27
		c23.3,28.2,57,45.4,100.9,51.9c-6.9-10.1-8.8-18.1-8-25c18.2,18.1,41,30.3,68.9,36c-9.3-9.5-14.4-17.9-12-24
		c14.5,23.9,39.8,34.7,72.9,36c-6.6-9.1-8-17.1-4-24c-0.5,11.1,7.7,20.9,28,29c12-11.1,19.7-21.3,25-31c0.4,5.2-1,10.9-6.7,17.9
		c36.2-2.3,50.9-24.1,66.7-44.9c-0.6,9.8-4.7,19.6-12.7,29.2c48.4-11.5,89.7-51.5,95.6-101.1c5.1,3.7-1.4,14.1-1.2,23.7
		c38.4-48.1,32.6-83.9,10.2-116.6c12.9,10.9,24.7,11.3,36,7c-20.4-16.9-32.6-36.3-34-58.9c10.3-20.9,16.1-41.4,9-60.9
		c14.3-5.6,22.5-20.9,23-48.9c2.6,14.6,3.6,28.8-2,40.9c66.8-62.5,13.2-136.7-52.9-127.8c-41.5-4.4-76.9-1.9-100.9,14
		c1.7-5.1,22.2-16.3,22.5-16.5c-0.2-3.8-40.7,5.1-50.4,16.5c0.8-3.3,4.5-7.6,10.7-12.9c-18.2,3.1-30,11.6-38.7,22.9
		c-1.1-6.1,1.7-12.1,7-18c-52.1,7.5-90.6,32.7-116.8,73.9c-2.3-13.9,0.1-28.9,7-44.9c-20.6,9.4-36.2,26.8-49.9,46.9
		c1.6-16.3,7.5-32.3,18-47.9c-15.9,9.4-28.1,20.1-37,32c3.6-30.1,14.2-62.8,29-96.9c-27.4,4.2-50.7,14.1-60.9,38
		c-0.8-11.7,0.4-24.3,6-39c-16.5,4.3-30,14.6-40,32c2-18.1,8.5-36.4,21-54.9c-38.2,15.5-72.9,31.8-79.9,53.9l6-43.9
		c-11.4,4.3-22.4,13.4-33,30l-4-48.9l-11,15c1.4-31.8,3.7-62.6,14-83.9c-14.5,6.9-24.3,21.3-31,40.9c-1.7-22.8,3.8-45.4,17-67.9
		c-7.6-0.6-33.2,24.3-40.8,31.8c-0.9,0.9-2.4,0.4-2.7-0.8c-3.2-18.3-19.9-117.1-14.8-189.3c1.1-16,7.6-31.2,18.7-42.8
		c17.6-18.4,30.4-39.1,38.5-62l-31,19.5l62.9-88.9l-36,26l25.1-49c11.5-22.6,29.5-41.1,51.6-53.6c21.3-12.1,46-28.8,50.2-43.2
		c-1.8,24.8-21.8,49.4-49.9,73.9c54.3-24,109.8-49.5,130.1-71.8c-15.2,29.4-48.9,74.8-58.2,71.8c7,15.3,134.6-71.5,146.5-112.1
		c1.2,49.1-19.5,84.6-49.6,114.1c65.7-17.7,123-47.4,147.8-124.8c5.6,51-10.3,91.7-36,127.8c48.8-20.6,77.7-63,87.9-125.8
		c74.8,91.3,58.3,146,18.1,191.1c38.5,6,70.3-17.8,94.4-75.3c-6.4,18.3-2.6,52.7,22.5,120.4c50.5-28.3,71.1-69.9,58-126.5
		c-0.3-1.3,1.5-1.9,2-0.7c13.9,33.6,22.1,64.9,8.5,87.7c43.1-58.2,46.3-123.5-12.5-199.9C1359.7,322.6,1361.8,320.2,1363.7,321.4z`}
        minimalMode={minimalMode}
      />
      <Hair
        d="M855.4,622.1c0,0,49.9-81.9,170.8-81.9c112.7,12.4,150.9,42.4,196.1,32c0,63.7-90.7,45.7-90.7,45.7s-72.7-27-137.8-27
	S855.4,622.1,855.4,622.1z"
        minimalMode={minimalMode}
      />
      <Hair
        d="M1274.1,659.1c6-3.4,37.8-3.1,49,1.1c11.2,4.1,23.1-37,18.2-46.8c-4.9-9.7-30.2-5.7-30.2-5.7S1294.4,632.3,1274.1,659.1z"
        minimalMode={minimalMode}
      />

      <HairHighlight
        d="M1363.8,321.4c29.3,18,50.4,41.3,64.8,68.8c-1.6-56.3-36.4-104.9-107.8-144.9c-1.8-1-1.1-3.7,0.9-3.7
		c44.2-0.5,82.7-6.3,90.5-39.9c-118.9,34.8-105.1-14.9-237.2-48c-1.6-0.4-1.6-2.7,0.1-3.1c37.9-8.5,73.1,14.4,73.1,14.4
		c-5.7-25.2-49.5-41.1-140.1-45.7c42.4-19.8,42.5-48,37-77.4c-14.8,37.7-60.3,58.9-108.9,58.9c-48.6,0-125.2-39-191.8-39
		c-66.5,0-136.1,38-136.1,38c-3.1-13.3,11.8-26.3,34.5-39.2c-30.9,1-54.8,18.5-75.2,44.5c-11.8-19-38.3-33.7-71.7-46.5
		c27.3,24.1,50.1,46.3,43.5,55.9c-28-27.6-56.5-26.1-85.2-17c25.3-0.9,50.8-2.6,70.7,15.5c-106.1-22-178.1,34.1-231,85
		c106.8-8.4,128.7-105.9,230.8-29.4c30.1-26.1,53.2-30.4,74.5-29c-24.1,14.7-36.3,27.1-25.2,35c51.3-32.3,106.1-59.9,171.1-73.9
		c-18.5,9.9-28,19.5-27.2,29c53.8-18.9,101.1-31.9,117.9-17c-35.2,4.4-53,15.1-59.6,30c108.1,5.1,72.9,68.8,32.2,134.8
		c65.4-27.4,99.6-64.3,81.6-116.8c26.4,22.5,37.5,47.8,33.2,75.9c14.7-13.5,19.7-33.1,14.8-58.9c20.6,24.8,30.4,47.5,22.8,66.9
		c14.5-16.5,27.4-15.7,16-49c54.5,84.7,29.1,147.9-60,239c13.8-5.9,26.9-13,38.8-21.5c27.4-19.5,49.3-47,62.2-87.5
		c5.6,51-10.3,91.7-36,127.8c48.8-20.6,77.7-63,87.9-125.8c0.1,0.1,0.2,0.2,0.3,0.3c74.4,91.1,57.9,145.7,17.8,190.8
		c5.2,0.8,10.2,1.1,15.1,0.8c0.3,0,0.6,0,0.9,0c27.9-1.7,51.8-20.6,71.4-58.5c2.3-4.9,4.4-9.9,6.2-14.9c-3.5,12.7-2.6,32.1,5.5,63
		c-0.4,0.5-0.8,1-1.3,1.4c0,0,0.8,5.5,1.2,6.9c0.6-0.8,1.1-1.6,1.7-2.4c2.2,7.9,4.9,16.5,8,26c2.4,7.2,5.1,14.9,8.1,23
		c50.5-28.3,71.1-69.9,58.1-126.5c-0.3-1.3,1.5-1.9,2-0.7c13.9,33.6,22.1,64.9,8.5,87.7c43.1-58.2,46.3-123.5-12.5-199.9
		C1359.7,322.5,1361.8,320.2,1363.8,321.4z"
        minimalMode={minimalMode}
      />
      <Nose
        d="M537.5,916.2c0-41-84-19.6-84-90.1c0-63.7,67.3-82.4,80.9-68.8"
        minimalMode={minimalMode}
      />
      <Nose
        d="M419.6,752.7c0-15,19.1-62.2,51.7-62.2c27,0,72.3,72.7,72.3,94.1c0,18.6-20.7,28.2-20.7,57.2s28,37,28,37"
        minimalMode={minimalMode}
      />
      <Nose
        d="M1274.1,659.1c6-3.4,37.8-3.1,49,1.1c11.2,4.1,23.1-37,18.2-46.8c-4.9-9.7-30.2-5.7-30.2-5.7S1294.4,632.3,1274.1,659.1z"
        minimalMode={minimalMode}
      />
      <Nose
        d="M429.7,917.8c32.5,28.7,49.2,69.9,85.1,69.9c31.3,0,41.3-3.1,50.9-12.7"
        minimalMode={minimalMode}
      />
    </svg>
  );
};

export default SelfPortrait;
